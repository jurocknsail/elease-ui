"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8582],{68582:(U,d,s)=>{s.r(d),s.d(d,{TabListPageModule:()=>A});var i=s(71734),g=s(96814),r=s(60095),u=s(99351),m=s(15861);class p{constructor(a,l,t,n,c){this.name=a,this.description=l,this.email=t,this.phone=n,this.leases=c}}var _=s(37649),e=s(85678),f=s(29180);function h(o,a){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA()()),2&o){const l=a.$implicit;e.xp6(2),e.Oqu(l.name)}}const T=o=>["/leaseholder-details",o];function b(o,a){if(1&o&&(e.TgZ(0,"ion-card",15)(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"ion-list",16),e.YNc(8,h,3,1,"ion-item",17),e.qZA()()()),2&o){const l=a.$implicit;e.Q6J("routerLink",e.VKq(4,T,l.objectId)),e.xp6(3),e.Oqu(l.name),e.xp6(2),e.Oqu(l.description),e.xp6(3),e.Q6J("ngForOf",l.leases)}}function Z(o,a){if(1&o){const l=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",7)(3,"ion-button",18),e.NdJ("click",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.cancel())}),e._uU(4,"Annuler"),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Ajouter un Locataire"),e.qZA(),e.TgZ(7,"ion-buttons",19)(8,"ion-button",20),e.NdJ("click",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.confirm())}),e._uU(9,"Ajouter"),e.qZA()()()(),e.TgZ(10,"ion-content",1)(11,"form",21),e.NdJ("keydown.enter",function(n){return n.preventDefault()})("ngSubmit",function(){e.CHM(l);const n=e.oxw();return e.KtG(n.onSubmit())}),e.TgZ(12,"ion-list")(13,"ion-item"),e._UZ(14,"ion-input",22),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"ion-input",23),e.qZA(),e.TgZ(17,"ion-item"),e._UZ(18,"ion-input",24),e.qZA(),e.TgZ(19,"ion-item"),e._UZ(20,"ion-input",25),e.qZA()()()()}if(2&o){const l=e.oxw();e.xp6(8),e.ekj("button-disabled",!l.newLeaseHolderForm.valid),e.Q6J("strong",!0),e.xp6(3),e.Q6J("formGroup",l.newLeaseHolderForm)}}const y=[{path:"",component:(()=>{var o;class a{constructor(t,n,c,F){this.parseService=t,this.formBuilder=n,this.router=c,this.menuController=F,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",this.leaseholders=[]}ngOnInit(){var t=this;return(0,m.Z)(function*(){yield t.parseService.fetchLeaseholders(),t.leaseholders=t.parseService.getLeaseholders(),t.newLeaseHolderForm=t.formBuilder.group({name:["",[r.kI.required]],description:["",[r.kI.required]],phone:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email]]})})()}logout(){var t=this;return(0,m.Z)(function*(){t.parseService.clearData();const n=yield _.User.logOut();yield t.menuController.close(),yield t.router.navigate(["/login"]),console.log("Logged out",n)})()}export(){var t=this;return(0,m.Z)(function*(){t.downloadFile(t.parseService.getLeaseholders()),yield t.menuController.close()})()}downloadFile(t){const n=new Blob([JSON.stringify(t)],{type:"application/json"});window.open(URL.createObjectURL(n),"_blank")}import(){var t=this;return(0,m.Z)(function*(){console.log("Import"),yield t.menuController.close()})()}cancel(){var t;null===(t=this.modal)||void 0===t||t.dismiss(null,"cancel")}confirm(){var t;null===(t=this.modal)||void 0===t||t.dismiss(this.name,"confirm")}onSubmit(){if(this.newLeaseHolderForm.valid){const n=new p(this.newLeaseHolderForm.controls.name.value,this.newLeaseHolderForm.controls.description.value,this.newLeaseHolderForm.controls.email.value,this.newLeaseHolderForm.controls.phone.value,[]);this.parseService.createLeaseholder(n)}}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}}return(o=a).\u0275fac=function(t){return new(t||o)(e.Y36(f.X),e.Y36(r.qu),e.Y36(u.F0),e.Y36(i._q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(i.ki,5),2&t){let c;e.iGM(c=e.CRH())&&(n.modal=c.first)}},decls:32,vars:3,consts:[["contentId","main-content"],[1,"ion-padding"],["button","","detail","false",3,"click"],["aria-hidden","true","name","cloud-download","slot","start","color","success"],["aria-hidden","true","name","cloud-upload","slot","start","color","success"],["aria-hidden","true","name","log-out","slot","start","color","danger"],[3,"translucent"],["slot","start"],["color","success"],["id","main-content",3,"fullscreen"],["color","light",3,"routerLink",4,"ngFor","ngForOf"],["id","open-modal","color","success","button","true",2,"text-align","center"],["color","light","shape","round","fill","outline","size","large","disabled","true"],["slot","icon-only","name","add"],["trigger","open-modal"],["color","light",3,"routerLink"],["color","light"],[4,"ngFor","ngForOf"],[3,"click"],["slot","end"],["type","submit","form","newLeaseHolderForm",3,"strong","click"],["id","newLeaseHolderForm",3,"formGroup","keydown.enter","ngSubmit"],["labelPlacement","floating","label","Nom","formControlName","name","type","string"],["labelPlacement","floating","label","Description","formControlName","description","type","string"],["labelPlacement","floating","label","T\xe9l\xe9phone","formControlName","phone","type","string"],["labelPlacement","floating","label","Email","formControlName","email","type","email"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),e._uU(4,"Menu"),e.qZA()()(),e.TgZ(5,"ion-content",1)(6,"ion-list")(7,"ion-item",2),e.NdJ("click",function(){return n.export()}),e._UZ(8,"ion-icon",3),e.TgZ(9,"ion-label"),e._uU(10,"Sauvegarde"),e.qZA()(),e.TgZ(11,"ion-item",2),e.NdJ("click",function(){return n.import()}),e._UZ(12,"ion-icon",4),e.TgZ(13,"ion-label"),e._uU(14,"Importer"),e.qZA()(),e.TgZ(15,"ion-item",2),e.NdJ("click",function(){return n.logout()}),e._UZ(16,"ion-icon",5),e.TgZ(17,"ion-label"),e._uU(18,"Log-Out"),e.qZA()()()()(),e.TgZ(19,"ion-header",6)(20,"ion-toolbar")(21,"ion-buttons",7),e._UZ(22,"ion-menu-button",8),e.qZA(),e.TgZ(23,"ion-title"),e._uU(24," Locataires "),e.qZA()()(),e.TgZ(25,"ion-content",9),e.YNc(26,b,9,6,"ion-card",10),e.TgZ(27,"ion-card",11)(28,"ion-button",12),e._UZ(29,"ion-icon",13),e.qZA()(),e.TgZ(30,"ion-modal",14),e.YNc(31,Z,21,4,"ng-template"),e.qZA()()),2&t&&(e.xp6(19),e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngForOf",n.leaseholders))},dependencies:[i.YG,i.Sm,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.W2,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.z0,i.fG,i.wd,i.sr,i.ki,i.j9,i.YI,g.sg,r._Y,r.JJ,r.JL,r.sg,r.u,u.rH]}),a})(),canActivate:[s(8407).a]}];let P=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(y),u.Bz]}),a})(),A=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[i.Pc,g.ez,r.u5,r.UX,P]}),a})()}}]);