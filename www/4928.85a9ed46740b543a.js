(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4928],{40943:(L,_,A)=>{"use strict";A.d(_,{g:()=>f});var I=A(69862),y=A(20553),O=A(37398),m=A(28660),l=A(85678);let f=(()=>{var n;class i{constructor(e){this.http=e,this.apiUrl="https://api.insee.fr/series/BDM/V1/data",this.apiKey=y.N.inseeApiKey,this.lastIRLValue=0,this.lastILATValue=0}getIRL(){const e=`${this.apiUrl}/SERIES_BDM/001515333`,u=this.getHeaders();return this.http.get(e,{headers:u,responseType:"text"}).pipe((0,O.U)(h=>this.parseXml(h)))}getILAT(){const e=`${this.apiUrl}/SERIES_BDM/001617112`,u=this.getHeaders();return this.http.get(e,{headers:u,responseType:"text"}).pipe((0,O.U)(h=>this.parseXml(h)))}getHeaders(){return(new I.WM).set("Authorization",`Bearer ${this.apiKey}`)}parseXml(e){return new m.XMLParser({ignoreAttributes:!1,attributeNamePrefix:""}).parse(e)}getIRLData(){return new Promise((e,u)=>{this.getIRL().subscribe({next:h=>{let v=h["message:StructureSpecificData"]["message:DataSet"].Series.TITLE_FR;this.lastIRLValue=Number(h["message:StructureSpecificData"]["message:DataSet"].Series.Obs[0].OBS_VALUE),console.log("Last INSEE IRL : "+this.lastIRLValue+" from INSEE Serie '"+v+"'"),e(this.lastIRLValue)},error:h=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es de l'IRL",h),u(h)}})})}getILATData(){return new Promise((e,u)=>{this.getILAT().subscribe({next:h=>{let v=h["message:StructureSpecificData"]["message:DataSet"].Series.TITLE_FR;this.lastILATValue=Number(h["message:StructureSpecificData"]["message:DataSet"].Series.Obs[0].OBS_VALUE),console.log("Last INSEE ILAT : "+this.lastILATValue+" from INSEE Serie '"+v+"'"),e(this.lastILATValue)},error:h=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es de l'ILAT",h),u(h)}})})}}return(n=i).\u0275fac=function(e){return new(e||n)(l.LFG(I.eN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})()},29332:(L,_,A)=>{"use strict";function I(){return y=>/^[0-9]{10}$/.test(y.value)?null:{invalidPhoneNumber:{value:y.value}}}A.d(_,{x:()=>I})},28660:(L,_,A)=>{"use strict";const I=A(78313),y=A(96786),O=A(23612);L.exports={XMLParser:y,XMLValidator:I,XMLBuilder:O}},95206:(L,_)=>{"use strict";const A=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",y="["+A+"]["+A+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",O=new RegExp("^"+y+"$");_.isExist=function(l){return typeof l<"u"},_.isEmptyObject=function(l){return 0===Object.keys(l).length},_.merge=function(l,f,n){if(f){const i=Object.keys(f),t=i.length;for(let e=0;e<t;e++)l[i[e]]="strict"===n?[f[i[e]]]:f[i[e]]}},_.getValue=function(l){return _.isExist(l)?l:""},_.isName=function(l){const f=O.exec(l);return!(null===f||typeof f>"u")},_.getAllMatches=function(l,f){const n=[];let i=f.exec(l);for(;i;){const t=[];t.startIndex=f.lastIndex-i[0].length;const e=i.length;for(let u=0;u<e;u++)t.push(i[u]);n.push(t),i=f.exec(l)}return n},_.nameRegexp=y},78313:(L,_,A)=>{"use strict";const I=A(95206),y={allowBooleanAttributes:!1,unpairedTags:[]};function O(r){return" "===r||"\t"===r||"\n"===r||"\r"===r}function m(r,a){const b=a;for(;a<r.length;a++)if("?"==r[a]||" "==r[a]){const o=r.substr(b,a-b);if(a>5&&"xml"===o)return h("InvalidXml","XML declaration allowed only at the start of the document.",C(r,a));if("?"==r[a]&&">"==r[a+1]){a++;break}continue}return a}function P(r,a){if(r.length>a+5&&"-"===r[a+1]&&"-"===r[a+2]){for(a+=3;a<r.length;a++)if("-"===r[a]&&"-"===r[a+1]&&">"===r[a+2]){a+=2;break}}else if(r.length>a+8&&"D"===r[a+1]&&"O"===r[a+2]&&"C"===r[a+3]&&"T"===r[a+4]&&"Y"===r[a+5]&&"P"===r[a+6]&&"E"===r[a+7]){let b=1;for(a+=8;a<r.length;a++)if("<"===r[a])b++;else if(">"===r[a]&&(b--,0===b))break}else if(r.length>a+9&&"["===r[a+1]&&"C"===r[a+2]&&"D"===r[a+3]&&"A"===r[a+4]&&"T"===r[a+5]&&"A"===r[a+6]&&"["===r[a+7])for(a+=8;a<r.length;a++)if("]"===r[a]&&"]"===r[a+1]&&">"===r[a+2]){a+=2;break}return a}_.validate=function(r,a){a=Object.assign({},y,a);const b=[];let o=!1,g=!1;"\ufeff"===r[0]&&(r=r.substr(1));for(let s=0;s<r.length;s++)if("<"===r[s]&&"?"===r[s+1]){if(s+=2,s=m(r,s),s.err)return s}else{if("<"!==r[s]){if(O(r[s]))continue;return h("InvalidChar","char '"+r[s]+"' is not expected.",C(r,s))}{let E=s;if(s++,"!"===r[s]){s=P(r,s);continue}{let p=!1;"/"===r[s]&&(p=!0,s++);let d="";for(;s<r.length&&">"!==r[s]&&" "!==r[s]&&"\t"!==r[s]&&"\n"!==r[s]&&"\r"!==r[s];s++)d+=r[s];if(d=d.trim(),"/"===d[d.length-1]&&(d=d.substring(0,d.length-1),s--),!v(d)){let c;return c=0===d.trim().length?"Invalid space after '<'.":"Tag '"+d+"' is an invalid name.",h("InvalidTag",c,C(r,s))}const x=n(r,s);if(!1===x)return h("InvalidAttr","Attributes for '"+d+"' have open quote.",C(r,s));let T=x.value;if(s=x.index,"/"===T[T.length-1]){const c=s-T.length;T=T.substring(0,T.length-1);const S=t(T,a);if(!0!==S)return h(S.err.code,S.err.msg,C(r,c+S.err.line));o=!0}else if(p){if(!x.tagClosed)return h("InvalidTag","Closing tag '"+d+"' doesn't have proper closing.",C(r,s));if(T.trim().length>0)return h("InvalidTag","Closing tag '"+d+"' can't have attributes or invalid starting.",C(r,E));if(0===b.length)return h("InvalidTag","Closing tag '"+d+"' has not been opened.",C(r,E));{const c=b.pop();if(d!==c.tagName){let S=C(r,c.tagStartPos);return h("InvalidTag","Expected closing tag '"+c.tagName+"' (opened in line "+S.line+", col "+S.col+") instead of closing tag '"+d+"'.",C(r,E))}0==b.length&&(g=!0)}}else{const c=t(T,a);if(!0!==c)return h(c.err.code,c.err.msg,C(r,s-T.length+c.err.line));if(!0===g)return h("InvalidXml","Multiple possible root nodes found.",C(r,s));-1!==a.unpairedTags.indexOf(d)||b.push({tagName:d,tagStartPos:E}),o=!0}for(s++;s<r.length;s++)if("<"===r[s]){if("!"===r[s+1]){s++,s=P(r,s);continue}if("?"!==r[s+1])break;if(s=m(r,++s),s.err)return s}else if("&"===r[s]){const c=u(r,s);if(-1==c)return h("InvalidChar","char '&' is not expected.",C(r,s));s=c}else if(!0===g&&!O(r[s]))return h("InvalidXml","Extra text at the end",C(r,s));"<"===r[s]&&s--}}}return o?1==b.length?h("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",C(r,b[0].tagStartPos)):!(b.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(b.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):h("InvalidXml","Start tag expected.",1)};const l='"',f="'";function n(r,a){let b="",o="",g=!1;for(;a<r.length;a++){if(r[a]===l||r[a]===f)""===o?o=r[a]:o!==r[a]||(o="");else if(">"===r[a]&&""===o){g=!0;break}b+=r[a]}return""===o&&{value:b,index:a,tagClosed:g}}const i=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function t(r,a){const b=I.getAllMatches(r,i),o={};for(let g=0;g<b.length;g++){if(0===b[g][1].length)return h("InvalidAttr","Attribute '"+b[g][2]+"' has no space in starting.",V(b[g]));if(void 0!==b[g][3]&&void 0===b[g][4])return h("InvalidAttr","Attribute '"+b[g][2]+"' is without value.",V(b[g]));if(void 0===b[g][3]&&!a.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+b[g][2]+"' is not allowed.",V(b[g]));const s=b[g][2];if(!N(s))return h("InvalidAttr","Attribute '"+s+"' is an invalid name.",V(b[g]));if(o.hasOwnProperty(s))return h("InvalidAttr","Attribute '"+s+"' is repeated.",V(b[g]));o[s]=1}return!0}function u(r,a){if(";"===r[++a])return-1;if("#"===r[a])return function e(r,a){let b=/\d/;for("x"===r[a]&&(a++,b=/[\da-fA-F]/);a<r.length;a++){if(";"===r[a])return a;if(!r[a].match(b))break}return-1}(r,++a);let b=0;for(;a<r.length;a++,b++)if(!(r[a].match(/\w/)&&b<20)){if(";"===r[a])break;return-1}return a}function h(r,a,b){return{err:{code:r,msg:a,line:b.line||b,col:b.col}}}function N(r){return I.isName(r)}function v(r){return I.isName(r)}function C(r,a){const b=r.substring(0,a).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function V(r){return r.startIndex+r[1].length}},23612:(L,_,A)=>{"use strict";const I=A(84289),y={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(n,i){return i},attributeValueProcessor:function(n,i){return i},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function O(n){this.options=Object.assign({},y,n),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=m,this.options.format?(this.indentate=l,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function m(n,i,t){const e=this.j2x(n,t+1);return void 0!==n[this.options.textNodeName]&&1===Object.keys(n).length?this.buildTextValNode(n[this.options.textNodeName],i,e.attrStr,t):this.buildObjectNode(e.val,i,e.attrStr,t)}function l(n){return this.options.indentBy.repeat(n)}function f(n){return!(!n.startsWith(this.options.attributeNamePrefix)||n===this.options.textNodeName)&&n.substr(this.attrPrefixLen)}O.prototype.build=function(n){return this.options.preserveOrder?I(n,this.options):(Array.isArray(n)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(n={[this.options.arrayNodeName]:n}),this.j2x(n,0).val)},O.prototype.j2x=function(n,i){let t="",e="";for(let u in n)if(Object.prototype.hasOwnProperty.call(n,u))if(typeof n[u]>"u")this.isAttribute(u)&&(e+="");else if(null===n[u])this.isAttribute(u)?e+="":e+="?"===u[0]?this.indentate(i)+"<"+u+"?"+this.tagEndChar:this.indentate(i)+"<"+u+"/"+this.tagEndChar;else if(n[u]instanceof Date)e+=this.buildTextValNode(n[u],u,"",i);else if("object"!=typeof n[u]){const h=this.isAttribute(u);if(h)t+=this.buildAttrPairStr(h,""+n[u]);else if(u===this.options.textNodeName){let N=this.options.tagValueProcessor(u,""+n[u]);e+=this.replaceEntitiesValue(N)}else e+=this.buildTextValNode(n[u],u,"",i)}else if(Array.isArray(n[u])){const h=n[u].length;let N="";for(let v=0;v<h;v++){const C=n[u][v];typeof C>"u"||(null===C?e+="?"===u[0]?this.indentate(i)+"<"+u+"?"+this.tagEndChar:this.indentate(i)+"<"+u+"/"+this.tagEndChar:N+="object"==typeof C?this.options.oneListGroup?this.j2x(C,i+1).val:this.processTextOrObjNode(C,u,i):this.buildTextValNode(C,u,"",i))}this.options.oneListGroup&&(N=this.buildObjectNode(N,u,"",i)),e+=N}else if(this.options.attributesGroupName&&u===this.options.attributesGroupName){const h=Object.keys(n[u]),N=h.length;for(let v=0;v<N;v++)t+=this.buildAttrPairStr(h[v],""+n[u][h[v]])}else e+=this.processTextOrObjNode(n[u],u,i);return{attrStr:t,val:e}},O.prototype.buildAttrPairStr=function(n,i){return i=this.options.attributeValueProcessor(n,""+i),i=this.replaceEntitiesValue(i),this.options.suppressBooleanAttributes&&"true"===i?" "+n:" "+n+'="'+i+'"'},O.prototype.buildObjectNode=function(n,i,t,e){if(""===n)return"?"===i[0]?this.indentate(e)+"<"+i+t+"?"+this.tagEndChar:this.indentate(e)+"<"+i+t+this.closeTag(i)+this.tagEndChar;{let u="</"+i+this.tagEndChar,h="";return"?"===i[0]&&(h="?",u=""),!t&&""!==t||-1!==n.indexOf("<")?!1!==this.options.commentPropName&&i===this.options.commentPropName&&0===h.length?this.indentate(e)+`\x3c!--${n}--\x3e`+this.newLine:this.indentate(e)+"<"+i+t+h+this.tagEndChar+n+this.indentate(e)+u:this.indentate(e)+"<"+i+t+h+">"+n+u}},O.prototype.closeTag=function(n){let i="";return-1!==this.options.unpairedTags.indexOf(n)?this.options.suppressUnpairedNode||(i="/"):i=this.options.suppressEmptyNode?"/":`></${n}`,i},O.prototype.buildTextValNode=function(n,i,t,e){if(!1!==this.options.cdataPropName&&i===this.options.cdataPropName)return this.indentate(e)+`<![CDATA[${n}]]>`+this.newLine;if(!1!==this.options.commentPropName&&i===this.options.commentPropName)return this.indentate(e)+`\x3c!--${n}--\x3e`+this.newLine;if("?"===i[0])return this.indentate(e)+"<"+i+t+"?"+this.tagEndChar;{let u=this.options.tagValueProcessor(i,n);return u=this.replaceEntitiesValue(u),""===u?this.indentate(e)+"<"+i+t+this.closeTag(i)+this.tagEndChar:this.indentate(e)+"<"+i+t+">"+u+"</"+i+this.tagEndChar}},O.prototype.replaceEntitiesValue=function(n){if(n&&n.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const t=this.options.entities[i];n=n.replace(t.regex,t.val)}return n},L.exports=O},84289:L=>{function I(l,f,n,i){let t="",e=!1;for(let u=0;u<l.length;u++){const h=l[u],N=y(h);if(void 0===N)continue;let v="";if(v=0===n.length?N:`${n}.${N}`,N===f.textNodeName){let b=h[N];m(v,f)||(b=f.tagValueProcessor(N,b),b=P(b,f)),e&&(t+=i),t+=b,e=!1;continue}if(N===f.cdataPropName){e&&(t+=i),t+=`<![CDATA[${h[N][0][f.textNodeName]}]]>`,e=!1;continue}if(N===f.commentPropName){t+=i+`\x3c!--${h[N][0][f.textNodeName]}--\x3e`,e=!0;continue}if("?"===N[0]){const b=O(h[":@"],f);let g=h[N][0][f.textNodeName];g=0!==g.length?" "+g:"",t+=("?xml"===N?"":i)+`<${N}${g}${b}?>`,e=!0;continue}let C=i;""!==C&&(C+=f.indentBy);const r=i+`<${N}${O(h[":@"],f)}`,a=I(h[N],f,v,C);-1!==f.unpairedTags.indexOf(N)?t+=f.suppressUnpairedNode?r+">":r+"/>":a&&0!==a.length||!f.suppressEmptyNode?a&&a.endsWith(">")?t+=r+`>${a}${i}</${N}>`:(t+=r+">",a&&""!==i&&(a.includes("/>")||a.includes("</"))?t+=i+f.indentBy+a+i:t+=a,t+=`</${N}>`):t+=r+"/>",e=!0}return t}function y(l){const f=Object.keys(l);for(let n=0;n<f.length;n++){const i=f[n];if(l.hasOwnProperty(i)&&":@"!==i)return i}}function O(l,f){let n="";if(l&&!f.ignoreAttributes)for(let i in l){if(!l.hasOwnProperty(i))continue;let t=f.attributeValueProcessor(i,l[i]);t=P(t,f),n+=!0===t&&f.suppressBooleanAttributes?` ${i.substr(f.attributeNamePrefix.length)}`:` ${i.substr(f.attributeNamePrefix.length)}="${t}"`}return n}function m(l,f){let n=(l=l.substr(0,l.length-f.textNodeName.length-1)).substr(l.lastIndexOf(".")+1);for(let i in f.stopNodes)if(f.stopNodes[i]===l||f.stopNodes[i]==="*."+n)return!0;return!1}function P(l,f){if(l&&l.length>0&&f.processEntities)for(let n=0;n<f.entities.length;n++){const i=f.entities[n];l=l.replace(i.regex,i.val)}return l}L.exports=function A(l,f){let n="";return f.format&&f.indentBy.length>0&&(n="\n"),I(l,f,"",n)}},43271:(L,_,A)=>{const I=A(95206);function O(t,e){let u="";for(;e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)u+=t[e];if(u=u.trim(),-1!==u.indexOf(" "))throw new Error("External entites are not supported");const h=t[e++];let N="";for(;e<t.length&&t[e]!==h;e++)N+=t[e];return[u,N,e]}function m(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function P(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function l(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function f(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function n(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function i(t){if(I.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}L.exports=function y(t,e){const u={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let h=1,N=!1,v=!1,C="";for(;e<t.length;e++)if("<"!==t[e]||v)if(">"===t[e]){if(v?"-"===t[e-1]&&"-"===t[e-2]&&(v=!1,h--):h--,0===h)break}else"["===t[e]?N=!0:C+=t[e];else{if(N&&P(t,e))e+=7,[entityName,val,e]=O(t,e+1),-1===val.indexOf("&")&&(u[i(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(N&&l(t,e))e+=8;else if(N&&f(t,e))e+=8;else if(N&&n(t,e))e+=9;else{if(!m)throw new Error("Invalid DOCTYPE");v=!0}h++,C=""}if(0!==h)throw new Error("Unclosed DOCTYPE")}return{entities:u,i:e}}},27635:(L,_)=>{const A={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(y,O){return O},attributeValueProcessor:function(y,O){return O},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(y,O,m){return y}};_.buildOptions=function(y){return Object.assign({},A,y)},_.defaultOptions=A},80208:(L,_,A)=>{"use strict";const I=A(95206),y=A(95338),O=A(43271),m=A(6626);function l(o){const g=Object.keys(o);for(let s=0;s<g.length;s++){const E=g[s];this.lastEntities[E]={regex:new RegExp("&"+E+";","g"),val:o[E]}}}function f(o,g,s,E,p,d,x){if(void 0!==o&&(this.options.trimValues&&!E&&(o=o.trim()),o.length>0)){x||(o=this.replaceEntitiesValue(o));const T=this.options.tagValueProcessor(g,o,s,p,d);return null==T?o:typeof T!=typeof o||T!==o?T:this.options.trimValues||o.trim()===o?b(o,this.options.parseTagValue,this.options.numberParseOptions):o}}function n(o){if(this.options.removeNSPrefix){const g=o.split(":"),s="/"===o.charAt(0)?"/":"";if("xmlns"===g[0])return"";2===g.length&&(o=s+g[1])}return o}const i=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function t(o,g,s){if(!this.options.ignoreAttributes&&"string"==typeof o){const E=I.getAllMatches(o,i),p=E.length,d={};for(let x=0;x<p;x++){const T=this.resolveNameSpace(E[x][1]);let c=E[x][4],S=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(S=this.options.transformAttributeName(S)),"__proto__"===S&&(S="#__proto__"),void 0!==c){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const w=this.options.attributeValueProcessor(T,c,g);d[S]=null==w?c:typeof w!=typeof c||w!==c?w:b(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(d[S]=!0)}if(!Object.keys(d).length)return;if(this.options.attributesGroupName){const x={};return x[this.options.attributesGroupName]=d,x}return d}}const e=function(o){o=o.replace(/\r\n?/g,"\n");const g=new y("!xml");let s=g,E="",p="";for(let d=0;d<o.length;d++)if("<"===o[d])if("/"===o[d+1]){const T=V(o,">",d,"Closing Tag is not closed.");let c=o.substring(d+2,T).trim();if(this.options.removeNSPrefix){const R=c.indexOf(":");-1!==R&&(c=c.substr(R+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),s&&(E=this.saveTextToParentTag(E,s,p));const S=p.substring(p.lastIndexOf(".")+1);if(c&&-1!==this.options.unpairedTags.indexOf(c))throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let w=0;S&&-1!==this.options.unpairedTags.indexOf(S)?(w=p.lastIndexOf(".",p.lastIndexOf(".")-1),this.tagsNodeStack.pop()):w=p.lastIndexOf("."),p=p.substring(0,w),s=this.tagsNodeStack.pop(),E="",d=T}else if("?"===o[d+1]){let T=r(o,d,!1,"?>");if(!T)throw new Error("Pi Tag is not closed.");if(E=this.saveTextToParentTag(E,s,p),!(this.options.ignoreDeclaration&&"?xml"===T.tagName||this.options.ignorePiTags)){const c=new y(T.tagName);c.add(this.options.textNodeName,""),T.tagName!==T.tagExp&&T.attrExpPresent&&(c[":@"]=this.buildAttributesMap(T.tagExp,p,T.tagName)),this.addChild(s,c,p)}d=T.closeIndex+1}else if("!--"===o.substr(d+1,3)){const T=V(o,"--\x3e",d+4,"Comment is not closed.");if(this.options.commentPropName){const c=o.substring(d+4,T-2);E=this.saveTextToParentTag(E,s,p),s.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}d=T}else if("!D"===o.substr(d+1,2)){const T=O(o,d);this.docTypeEntities=T.entities,d=T.i}else if("!["===o.substr(d+1,2)){const T=V(o,"]]>",d,"CDATA is not closed.")-2,c=o.substring(d+9,T);E=this.saveTextToParentTag(E,s,p);let S=this.parseTextData(c,s.tagname,p,!0,!1,!0,!0);null==S&&(S=""),this.options.cdataPropName?s.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):s.add(this.options.textNodeName,S),d=T+2}else{let T=r(o,d,this.options.removeNSPrefix),c=T.tagName;const S=T.rawTagName;let w=T.tagExp,R=T.attrExpPresent,M=T.closeIndex;if(this.options.transformTagName&&(c=this.options.transformTagName(c)),s&&E&&"!xml"!==s.tagname&&(E=this.saveTextToParentTag(E,s,p,!1)),s&&-1!==this.options.unpairedTags.indexOf(s.tagname)&&(s=this.tagsNodeStack.pop(),p=p.substring(0,p.lastIndexOf("."))),c!==g.tagname&&(p+=p?"."+c:c),this.isItStopNode(this.options.stopNodes,p,c)){let F="";if(w.length>0&&w.lastIndexOf("/")===w.length-1)"/"===c[c.length-1]?(c=c.substr(0,c.length-1),p=p.substr(0,p.length-1),w=c):w=w.substr(0,w.length-1),d=T.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))d=T.closeIndex;else{const B=this.readStopNodeData(o,S,M+1);if(!B)throw new Error(`Unexpected end of ${S}`);d=B.i,F=B.tagContent}const $=new y(c);c!==w&&R&&($[":@"]=this.buildAttributesMap(w,p,c)),F&&(F=this.parseTextData(F,c,p,!0,R,!0,!0)),p=p.substr(0,p.lastIndexOf(".")),$.add(this.options.textNodeName,F),this.addChild(s,$,p)}else{if(w.length>0&&w.lastIndexOf("/")===w.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),p=p.substr(0,p.length-1),w=c):w=w.substr(0,w.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const F=new y(c);c!==w&&R&&(F[":@"]=this.buildAttributesMap(w,p,c)),this.addChild(s,F,p),p=p.substr(0,p.lastIndexOf("."))}else{const F=new y(c);this.tagsNodeStack.push(s),c!==w&&R&&(F[":@"]=this.buildAttributesMap(w,p,c)),this.addChild(s,F,p),s=F}E="",d=M}}else E+=o[d];return g.child};function u(o,g,s){const E=this.options.updateTag(g.tagname,s,g[":@"]);!1===E||("string"==typeof E&&(g.tagname=E),o.addChild(g))}const h=function(o){if(this.options.processEntities){for(let g in this.docTypeEntities){const s=this.docTypeEntities[g];o=o.replace(s.regx,s.val)}for(let g in this.lastEntities){const s=this.lastEntities[g];o=o.replace(s.regex,s.val)}if(this.options.htmlEntities)for(let g in this.htmlEntities){const s=this.htmlEntities[g];o=o.replace(s.regex,s.val)}o=o.replace(this.ampEntity.regex,this.ampEntity.val)}return o};function N(o,g,s,E){return o&&(void 0===E&&(E=0===Object.keys(g.child).length),void 0!==(o=this.parseTextData(o,g.tagname,s,!1,!!g[":@"]&&0!==Object.keys(g[":@"]).length,E))&&""!==o&&g.add(this.options.textNodeName,o),o=""),o}function v(o,g,s){const E="*."+s;for(const p in o){const d=o[p];if(E===d||g===d)return!0}return!1}function V(o,g,s,E){const p=o.indexOf(g,s);if(-1===p)throw new Error(E);return p+g.length-1}function r(o,g,s,E=">"){const p=function C(o,g,s=">"){let E,p="";for(let d=g;d<o.length;d++){let x=o[d];if(E)x===E&&(E="");else if('"'===x||"'"===x)E=x;else if(x===s[0]){if(!s[1])return{data:p,index:d};if(o[d+1]===s[1])return{data:p,index:d}}else"\t"===x&&(x=" ");p+=x}}(o,g+1,E);if(!p)return;let d=p.data;const x=p.index,T=d.search(/\s/);let c=d,S=!0;-1!==T&&(c=d.substring(0,T),d=d.substring(T+1).trimStart());const w=c;if(s){const R=c.indexOf(":");-1!==R&&(c=c.substr(R+1),S=c!==p.data.substr(R+1))}return{tagName:c,tagExp:d,closeIndex:x,attrExpPresent:S,rawTagName:w}}function a(o,g,s){const E=s;let p=1;for(;s<o.length;s++)if("<"===o[s])if("/"===o[s+1]){const d=V(o,">",s,`${g} is not closed`);if(o.substring(s+2,d).trim()===g&&(p--,0===p))return{tagContent:o.substring(E,s),i:d};s=d}else if("?"===o[s+1])s=V(o,"?>",s+1,"StopNode is not closed.");else if("!--"===o.substr(s+1,3))s=V(o,"--\x3e",s+3,"StopNode is not closed.");else if("!["===o.substr(s+1,2))s=V(o,"]]>",s,"StopNode is not closed.")-2;else{const d=r(o,s,">");d&&((d&&d.tagName)===g&&"/"!==d.tagExp[d.tagExp.length-1]&&p++,s=d.closeIndex)}}function b(o,g,s){if(g&&"string"==typeof o){const E=o.trim();return"true"===E||"false"!==E&&m(o,s)}return I.isExist(o)?o:""}L.exports=class P{constructor(g){this.options=g,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(s,E)=>String.fromCharCode(Number.parseInt(E,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(s,E)=>String.fromCharCode(Number.parseInt(E,16))}},this.addExternalEntities=l,this.parseXml=e,this.parseTextData=f,this.resolveNameSpace=n,this.buildAttributesMap=t,this.isItStopNode=v,this.replaceEntitiesValue=h,this.readStopNodeData=a,this.saveTextToParentTag=N,this.addChild=u}}},96786:(L,_,A)=>{const{buildOptions:I}=A(27635),y=A(80208),{prettify:O}=A(73651),m=A(78313);L.exports=class P{constructor(f){this.externalEntities={},this.options=I(f)}parse(f,n){if("string"!=typeof f){if(!f.toString)throw new Error("XML data is accepted in String or Bytes[] form.");f=f.toString()}if(n){!0===n&&(n={});const e=m.validate(f,n);if(!0!==e)throw Error(`${e.err.msg}:${e.err.line}:${e.err.col}`)}const i=new y(this.options);i.addExternalEntities(this.externalEntities);const t=i.parseXml(f);return this.options.preserveOrder||void 0===t?t:O(t,this.options)}addEntity(f,n){if(-1!==n.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==f.indexOf("&")||-1!==f.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===n)throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=n}}},73651:(L,_)=>{"use strict";function I(P,l,f){let n;const i={};for(let t=0;t<P.length;t++){const e=P[t],u=y(e);let h="";if(h=void 0===f?u:f+"."+u,u===l.textNodeName)void 0===n?n=e[u]:n+=""+e[u];else{if(void 0===u)continue;if(e[u]){let N=I(e[u],l,h);const v=m(N,l);e[":@"]?O(N,e[":@"],h,l):1!==Object.keys(N).length||void 0===N[l.textNodeName]||l.alwaysCreateTextNode?0===Object.keys(N).length&&(l.alwaysCreateTextNode?N[l.textNodeName]="":N=""):N=N[l.textNodeName],void 0!==i[u]&&i.hasOwnProperty(u)?(Array.isArray(i[u])||(i[u]=[i[u]]),i[u].push(N)):i[u]=l.isArray(u,h,v)?[N]:N}}}return"string"==typeof n?n.length>0&&(i[l.textNodeName]=n):void 0!==n&&(i[l.textNodeName]=n),i}function y(P){const l=Object.keys(P);for(let f=0;f<l.length;f++){const n=l[f];if(":@"!==n)return n}}function O(P,l,f,n){if(l){const i=Object.keys(l),t=i.length;for(let e=0;e<t;e++){const u=i[e];P[u]=n.isArray(u,f+"."+u,!0,!0)?[l[u]]:l[u]}}}function m(P,l){const{textNodeName:f}=l,n=Object.keys(P).length;return!(0!==n&&(1!==n||!P[f]&&"boolean"!=typeof P[f]&&0!==P[f]))}_.prettify=function A(P,l){return I(P,l)}},95338:L=>{"use strict";L.exports=class _{constructor(I){this.tagname=I,this.child=[],this[":@"]={}}add(I,y){"__proto__"===I&&(I="#__proto__"),this.child.push({[I]:y})}addChild(I){"__proto__"===I.tagname&&(I.tagname="#__proto__"),I[":@"]&&Object.keys(I[":@"]).length>0?this.child.push({[I.tagname]:I.child,":@":I[":@"]}):this.child.push({[I.tagname]:I.child})}}},6626:L=>{const _=/^[-+]?0x[a-fA-F0-9]+$/,A=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const I={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};L.exports=function y(m,P={}){if(P=Object.assign({},I,P),!m||"string"!=typeof m)return m;let l=m.trim();if(void 0!==P.skipLike&&P.skipLike.test(l))return m;if(P.hex&&_.test(l))return Number.parseInt(l,16);{const f=A.exec(l);if(f){const n=f[1],i=f[2];let t=function O(m){return m&&-1!==m.indexOf(".")&&("."===(m=m.replace(/0+$/,""))?m="0":"."===m[0]?m="0"+m:"."===m[m.length-1]&&(m=m.substr(0,m.length-1))),m}(f[3]);const e=f[4]||f[6];if(!P.leadingZeros&&i.length>0&&n&&"."!==l[2])return m;if(!P.leadingZeros&&i.length>0&&!n&&"."!==l[1])return m;{const u=Number(l),h=""+u;return-1!==h.search(/[eE]/)||e?P.eNotation?u:m:-1!==l.indexOf(".")?"0"===h&&""===t||h===t||n&&h==="-"+t?u:m:i?t===h||n+t===h?u:m:l===h||l===n+h?u:m}}return m}}}}]);